{"ast":null,"code":"import _classCallCheck from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/charlesmendes/Projects/minhas-series/src/NovaSerie.js\";\nimport React, { Component } from 'react';\nimport api from './Api';\nimport { Redirect } from 'react-router-dom';\nvar statusEnum = {\n  'watched': 'Assistido',\n  'watching': 'Assistindo',\n  'toWatch': 'Assistir'\n};\n\nvar NovaSerie =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NovaSerie, _Component);\n\n  function NovaSerie(props) {\n    var _this;\n\n    _classCallCheck(this, NovaSerie);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NovaSerie).call(this, props));\n    _this.state = {\n      genres: [],\n      isLoading: false,\n      redirect: false\n    };\n    _this.salvar = _this.salvar.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(NovaSerie, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      api.loadGenres().then(function (res) {\n        _this2.setState({\n          isLoading: false,\n          genres: res.data\n        });\n      });\n    }\n  }, {\n    key: \"salvar\",\n    value: function salvar() {\n      var _this3 = this;\n\n      var newSeries = {\n        name: this.refs.nome.value,\n        status: this.refs.status.value,\n        genre: this.refs.genero.value,\n        comments: this.refs.comentario.value\n      };\n      api.saveSeries(newSeries).then(function (res) {\n        _this3.setState({\n          redirect: '/series/' + _this3.refs.genero.value\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"section\", {\n        className: \"intro-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.state.redirect && React.createElement(Redirect, {\n        to: this.state.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Nova S\\xE9rie\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Nome: \", React.createElement(\"input\", {\n        type: \"text\",\n        ref: \"nome\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), \"Status:\", React.createElement(\"select\", {\n        ref: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, Object.keys(statusEnum).map(function (key) {\n        return React.createElement(\"option\", {\n          key: key,\n          value: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, statusEnum[key]);\n      })), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), \"G\\xEAnero:\", React.createElement(\"select\", {\n        ref: \"genero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.state.genres.map(function (key) {\n        return React.createElement(\"option\", {\n          key: key,\n          value: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, key);\n      })), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), \"Coment\\xE1rios: \", React.createElement(\"textarea\", {\n        ref: \"comentario\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.salvar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Salvar\")));\n    }\n  }]);\n\n  return NovaSerie;\n}(Component);\n\nexport default NovaSerie;","map":{"version":3,"sources":["/Users/charlesmendes/Projects/minhas-series/src/NovaSerie.js"],"names":["React","Component","api","Redirect","statusEnum","NovaSerie","props","state","genres","isLoading","redirect","salvar","bind","setState","loadGenres","then","res","data","newSeries","name","refs","nome","value","status","genre","genero","comments","comentario","saveSeries","Object","keys","map","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport api from './Api'\nimport { Redirect } from 'react-router-dom'\n\nconst statusEnum = {\n    'watched': 'Assistido',\n    'watching': 'Assistindo',\n    'toWatch': 'Assistir'\n}\n\nclass NovaSerie extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n          genres: [],\n          isLoading: false,\n          redirect: false\n        }\n\n        this.salvar = this.salvar.bind(this)\n    }\n\n    componentDidMount(){\n        this.setState({ isLoading: true })\n        \n        api.loadGenres()\n            .then((res) => {\n            this.setState({\n                isLoading: false,\n                genres: res.data\n            })\n        })\n    }\n\n    salvar(){\n        const newSeries = {\n            name: this.refs.nome.value,\n            status: this.refs.status.value,\n            genre: this.refs.genero.value,\n            comments: this.refs.comentario.value\n        }\n        \n        api.saveSeries(newSeries)\n            .then((res) => {\n                this.setState({ \n                    redirect: '/series/'+this.refs.genero.value \n                })\n            })\n    }\n\n    render(){\n        return (\n            <section className=\"intro-section\">\n                {  \n                    this.state.redirect && \n                    <Redirect to={this.state.redirect} />\n                }\n                <h1>Nova Série</h1>\n                <form>\n                    Nome: <input type=\"text\" ref='nome' className=\"form-control\" /> <br />\n                    Status: \n                    <select ref='status'>\n                        { Object\n                            .keys(statusEnum)\n                            .map(key => <option key={key} value={key}>{statusEnum[key]}</option>)\n                        }\n                    </select> <br />\n                    Gênero: \n                    <select ref='genero'>\n                        { this.state.genres\n                            .map(key => <option key={key} value={key}>{key}</option>)\n                        }\n                    </select> <br />\n                    Comentários: <textarea ref='comentario' className=\"form-control\" ></textarea> <br />\n                    <button type='button' onClick={this.salvar}>Salvar</button>\n                </form>\n            </section>\n        )\n    }\n}\n\nexport default NovaSerie"]},"metadata":{},"sourceType":"module"}