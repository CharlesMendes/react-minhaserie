{"ast":null,"code":"import _classCallCheck from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/charlesmendes/Projects/minhas-series/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/charlesmendes/Projects/minhas-series/src/EditaSerie.js\";\nimport React, { Component } from 'react';\nimport api from './Api';\nimport { Redirect } from 'react-router-dom';\nvar statusEnum = {\n  'watched': 'Assistido',\n  'watching': 'Assistindo',\n  'toWatch': 'Assistir'\n};\n\nvar EditaSerie =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditaSerie, _Component);\n\n  function EditaSerie(props) {\n    var _this;\n\n    _classCallCheck(this, EditaSerie);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditaSerie).call(this, props));\n    _this.state = {\n      genres: [],\n      isLoading: false,\n      redirect: false,\n      serie: {}\n    };\n    _this.salvar = _this.salvar.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditaSerie, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      api.loadSeriesById(this.props.match.params.id).then(function (res) {\n        _this2.setState({\n          serie: res.data\n        });\n\n        _this2.refs.nome.value = _this2.state.serie.name;\n        _this2.refs.comentario.value = _this2.state.serie.comments;\n        _this2.refs.genero.value = _this2.state.serie.genre;\n        _this2.refs.status.value = _this2.state.serie.status;\n      });\n      api.loadGenres().then(function (res) {\n        _this2.setState({\n          isLoading: false,\n          genres: res.data\n        });\n      });\n    }\n  }, {\n    key: \"salvar\",\n    value: function salvar() {\n      var _this3 = this;\n\n      var newSeries = {\n        name: this.refs.nome.value,\n        status: this.refs.status.value,\n        genre: this.refs.genero.value,\n        comments: this.refs.comentario.value\n      };\n      api.saveSeries(newSeries).then(function (res) {\n        _this3.setState({\n          redirect: '/series/' + _this3.refs.genero.value\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"section\", {\n        className: \"intro-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.redirect && React.createElement(Redirect, {\n        to: this.state.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Editar S\\xE9rie\"), JSON.stringify(this.state), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Nome: \", React.createElement(\"input\", {\n        type: \"text\",\n        ref: \"nome\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), \"Status:\", React.createElement(\"select\", {\n        ref: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, Object.keys(statusEnum).map(function (key) {\n        return React.createElement(\"option\", {\n          key: key,\n          value: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, statusEnum[key]);\n      })), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), \"G\\xEAnero:\", React.createElement(\"select\", {\n        ref: \"genero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.genres.map(function (key) {\n        return React.createElement(\"option\", {\n          key: key,\n          value: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, key);\n      })), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), JSON.stringify(this.state), \"Coment\\xE1rios: \", React.createElement(\"textarea\", {\n        defaultValue: this.state.serie.name,\n        ref: \"comentario\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.salvar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Salvar\")));\n    }\n  }]);\n\n  return EditaSerie;\n}(Component);\n\nexport default EditaSerie;","map":{"version":3,"sources":["/Users/charlesmendes/Projects/minhas-series/src/EditaSerie.js"],"names":["React","Component","api","Redirect","statusEnum","EditaSerie","props","state","genres","isLoading","redirect","serie","salvar","bind","setState","loadSeriesById","match","params","id","then","res","data","refs","nome","value","name","comentario","comments","genero","genre","status","loadGenres","newSeries","saveSeries","JSON","stringify","Object","keys","map","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport api from './Api'\nimport { Redirect } from 'react-router-dom'\n\nconst statusEnum = {\n    'watched': 'Assistido',\n    'watching': 'Assistindo',\n    'toWatch': 'Assistir'\n}\n\nclass EditaSerie extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n          genres: [],\n          isLoading: false,\n          redirect: false,\n          serie: {}\n        }\n\n        this.salvar = this.salvar.bind(this)\n    }\n\n    componentDidMount(){\n        this.setState({ isLoading: true })\n\n        api.loadSeriesById(this.props.match.params.id)\n            .then((res) => {\n                this.setState({\n                    serie: res.data\n                })\n                this.refs.nome.value = this.state.serie.name\n                this.refs.comentario.value = this.state.serie.comments\n                this.refs.genero.value = this.state.serie.genre\n                this.refs.status.value = this.state.serie.status\n            })\n        \n        api.loadGenres()\n            .then((res) => {\n            this.setState({\n                isLoading: false,\n                genres: res.data\n            })\n        })\n    }\n\n    salvar(){\n        const newSeries = {\n            name: this.refs.nome.value,\n            status: this.refs.status.value,\n            genre: this.refs.genero.value,\n            comments: this.refs.comentario.value\n        }\n        \n        api.saveSeries(newSeries)\n            .then((res) => {\n                this.setState({ \n                    redirect: '/series/'+this.refs.genero.value \n                })\n            })\n    }\n\n    render(){\n        return (\n            <section className=\"intro-section\">\n                {  \n                    this.state.redirect && \n                    <Redirect to={this.state.redirect} />\n                }\n                <h1>Editar Série</h1>\n                {JSON.stringify(this.state)}\n                <form>\n                    Nome: <input type=\"text\" ref='nome' className=\"form-control\" /> <br />\n                    Status: \n                    <select ref='status'>\n                        { Object\n                            .keys(statusEnum)\n                            .map(key => <option key={key} value={key}>{statusEnum[key]}</option>)\n                        }\n                    </select> <br />\n                    Gênero: \n                    <select ref='genero'>\n                        { this.state.genres\n                            .map(key => <option key={key} value={key}>{key}</option>)\n                        }\n                    </select> <br />\n                    {JSON.stringify(this.state)}\n                    Comentários: <textarea defaultValue={this.state.serie.name} ref='comentario' className=\"form-control\" ></textarea> <br />\n                    <button type='button' onClick={this.salvar}>Salvar</button>\n                </form>\n            </section>\n        )\n    }\n}\n\nexport default EditaSerie"]},"metadata":{},"sourceType":"module"}